<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Menu ƒê·∫∑t B√°nh | Lemon Patisserie</title>
    <!-- T·∫£i Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- T·∫£i Font Lobster (cho Ti√™u ƒë·ªÅ) v√† Montserrat (cho N·ªôi dung) -->
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700;900&family=Lobster&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --lemon-yellow: #fde047;
        --dark-orange: #d97706;
      }
      body {
        font-family: "Montserrat", sans-serif;
        font-weight: 500;
        background-color: #fef9e7; /* M√†u kem nh·∫°t */
        padding-bottom: 80px; /* D√†nh ch·ªó cho sticky footer */
      }
      /* √Åp d·ª•ng font Lobster cho ti√™u ƒë·ªÅ l·ªõn, ph√¢n lo·∫°i v√† t√™n s·∫£n ph·∫©m */
      .lobster-font {
        font-family: "Lobster", cursive;
        font-weight: 400; /* Regular weight */
      }
      /* Custom style cho font ch·ªØ v√† m√†u s·∫Øc theo y√™u c·∫ßu */
      .cake-title-style {
        color: var(--dark-orange); /* M√†u cam v√†ng */
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
      }
      .select-btn-text {
        color: #ffffff; /* M√†u tr·∫Øng */
        text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.4);
      }

      .lemon-bg {
        background-color: var(--lemon-yellow);
      }
      .lemon-text {
        color: var(--dark-orange);
      }
      .cake-card {
        transition: transform 0.2s, box-shadow 0.2s;
      }
      .cake-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
          0 4px 6px -2px rgba(0, 0, 0, 0.05);
      }
      /* Sticky Footer cho Gi·ªè h√†ng */
      #cart-summary {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        z-index: 40; /* Cao h∆°n n·ªôi dung */
        box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.1);
        display: none; /* ·∫®n ban ƒë·∫ßu */
      }
      /* Modal Styles */
      .modal {
        transition: opacity 0.3s ease-in-out;
        z-index: 50;
      }
      .modal.hidden {
        opacity: 0;
        pointer-events: none;
      }
      .modal-content {
        transition: transform 0.3s ease-in-out;
      }
      .modal.hidden .modal-content {
        transform: translateY(20px);
      }
      .required-label:after {
        content: " *";
        color: red;
      }
      /* Custom style cho danh m·ª•c (Accordion) */
      .category-header {
        cursor: pointer;
        transition: background-color 0.2s;
      }
      .category-header:hover {
        background-color: #fef08a; /* yellow-200 */
      }
      .category-content.hidden {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.5s ease-out;
      }
      .category-content:not(.hidden) {
        max-height: 2000px; /* Gi√° tr·ªã l·ªõn ƒë·ªÉ ch·ª©a n·ªôi dung */
        transition: max-height 0.7s ease-in;
      }
      .arrow-icon {
        transition: transform 0.3s;
      }
      .category-header[aria-expanded="true"] .arrow-icon {
        transform: rotate(90deg);
      }
      /* Sidebar Menu */
      #sidebar-menu {
        position: fixed;
        top: 0;
        right: 0;
        width: 300px;
        max-width: 80%;
        height: 100%;
        background-color: #ffffff;
        box-shadow: -4px 0 10px rgba(0, 0, 0, 0.1);
        transform: translateX(100%);
        transition: transform 0.3s ease-in-out;
        z-index: 60;
        overflow-y: auto;
      }
      #sidebar-menu.active {
        transform: translateX(0);
      }
      #sidebar-overlay {
        position: fixed;
        inset: 0;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 55;
        display: none;
      }
      #sidebar-overlay.active {
        display: block;
      }

      /* ----- BACKGROUND ANIMATION (M∆ØA B√ÅNH NG·ªåT) ----- */
      .bg-animated-item {
        position: fixed; /* ƒê√£ s·ª≠a th√†nh fixed ƒë·ªÉ ho·∫°t ƒë·ªông tr√™n body */
        top: -10%; /* B·∫Øt ƒë·∫ßu t·ª´ tr√™n cao */
        width: 65px;
        height: 65px;
        opacity: 0;
        animation: fall-in-background linear infinite;
        z-index: 0;
        user-select: none;
        pointer-events: none;
      }

      @keyframes fall-in-background {
        0% {
          transform: translateY(-100%) rotate(0deg);
          opacity: 0;
        }
        10% {
          opacity: 0.5;
        }
        90% {
          opacity: 0.5;
        }
        100% {
          transform: translateY(110vh) rotate(360deg);
          opacity: 0;
        }
      }

      /* √Åp d·ª•ng styling animation b√°nh r∆°i t·ª´ index.html */
      .bg-animated-item:nth-child(1) {
        left: 10%;
        animation-duration: 12.5s;
        animation-delay: 0s;
        width: 65px;
        height: 65px;
      }
      .bg-animated-item:nth-child(2) {
        left: 30%;
        animation-duration: 15s;
        animation-delay: 2.5s;
        width: 55px;
        height: 55px;
      }
      .bg-animated-item:nth-child(3) {
        left: 50%;
        animation-duration: 10s;
        animation-delay: 5s;
        width: 70px;
        height: 70px;
      }
      .bg-animated-item:nth-child(4) {
        left: 70%;
        animation-duration: 17.5s;
        animation-delay: 7.5s;
        width: 60px;
        height: 60px;
      }
      .bg-animated-item:nth-child(5) {
        left: 90%;
        animation-duration: 14s;
        animation-delay: 10s;
        width: 75px;
        height: 75px;
      }
      .bg-animated-item:nth-child(6) {
        left: 5%;
        animation-duration: 16s;
        animation-delay: 12.5s;
        width: 62px;
        height: 62px;
      }
      .bg-animated-item:nth-child(7) {
        left: 85%;
        animation-duration: 13s;
        animation-delay: 15s;
        width: 68px;
        height: 68px;
      }
      .bg-animated-item:nth-child(8) {
        left: 45%;
        animation-duration: 19s;
        animation-delay: 17.5s;
        width: 58px;
        height: 58px;
      }
      .bg-animated-item:nth-child(9) {
        left: 20%;
        animation-duration: 11s;
        animation-delay: 1s;
        width: 65px;
        height: 65px;
      }
      .bg-animated-item:nth-child(10) {
        left: 40%;
        animation-duration: 15.5s;
        animation-delay: 3.5s;
        width: 55px;
        height: 55px;
      }
      .bg-animated-item:nth-child(11) {
        left: 60%;
        animation-duration: 12s;
        animation-delay: 6s;
        width: 70px;
        height: 70px;
      }
      .bg-animated-item:nth-child(12) {
        left: 80%;
        animation-duration: 18s;
        animation-delay: 8.5s;
        width: 60px;
        height: 60px;
      }
      .bg-animated-item:nth-child(13) {
        left: 15%;
        animation-duration: 14.5s;
        animation-delay: 11s;
        width: 75px;
        height: 75px;
      }
      .bg-animated-item:nth-child(14) {
        left: 25%;
        animation-duration: 16.5s;
        animation-delay: 13.5s;
        width: 62px;
        height: 62px;
      }
      .bg-animated-item:nth-child(15) {
        left: 55%;
        animation-duration: 13.5s;
        animation-delay: 16s;
        width: 68px;
        height: 68px;
      }
      .bg-animated-item:nth-child(16) {
        left: 75%;
        animation-duration: 17s;
        animation-delay: 18.5s;
        width: 58px;
        height: 58px;
      }

      /* CƒÉn ch·ªânh Review Modal Items */
      .review-item {
        display: grid;
        grid-template-columns: 1fr 50px 80px; /* T√™n | SL | Gi√° */
        align-items: center;
        border-bottom: 1px solid #f3f4f6;
        padding-bottom: 8px;
      }
      .review-item:last-child {
        border-bottom: none;
      }
      .review-quantity {
        justify-self: center; /* CƒÉn gi·ªØa c·ªôt s·ªë l∆∞·ª£ng */
      }
      .review-price {
        justify-self: end; /* CƒÉn ph·∫£i c·ªôt gi√° */
      }

      /* TƒÉng k√≠ch th∆∞·ªõc ·∫£nh b√°nh v√† responsive */
      .cake-img {
        width: 144px; /* w-36 */
        height: 144px; /* h-36 */
        object-fit: contain; /* ƒê·∫£m b·∫£o ·∫£nh kh√¥ng b·ªã c·∫Øt x√©n */
        border-radius: 8px;
      }
      .cake-card {
        width: 100%; /* ƒê·∫£m b·∫£o card r·ªông h·∫øt c·ªôt */
      }
    </style>
  </head>
  <body>
    <!-- ------------------------------------------------------------------ -->
    <!-- NH·∫†C N·ªÄN (BACKGROUND MUSIC) -->
    <!-- Th√™m th·∫ª audio v·ªõi autoplay, loop v√† MUTED (b·∫Øt bu·ªôc do tr√¨nh duy·ªát) -->
    <audio id="background-music" loop muted autoplay>
      <!-- S·ª¨ D·ª§NG ƒê∆Ø·ªúNG D·∫™N T·ª™ INDEX.HTML (aaab.m4a) -->
      <source src="aaab.m4a" type="audio/mp4" />
      Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ ph·∫ßn t·ª≠ audio.
    </audio>
    <!-- ------------------------------------------------------------------ -->

    <!-- BACKGROUND ANIMATION (M∆ØA B√ÅNH NG·ªåT) -->
    <div id="background-animation-container">
      <!-- 16 icon b√°nh ng·ªçt v·ªõi k√≠ch th∆∞·ªõc v√† ƒë∆∞·ªùng d·∫´n placeholder m·ªõi -->
      <img
        class="bg-animated-item"
        src="images/icon1.png"
        alt="B√°nh ng·ªçt r∆°i"
      />
      <img
        class="bg-animated-item"
        src="images/icon2.png"
        alt="B√°nh ng·ªçt r∆°i"
      />
      <img class="bg-animated-item" src="images/3.png" alt="B√°nh ng·ªçt r∆°i" />
      <img class="bg-animated-item" src="images/4.png" alt="B√°nh ng·ªçt r∆°i" />
      <img class="bg-animated-item" src="images/5.png" alt="B√°nh ng·ªçt r∆°i" />
      <img class="bg-animated-item" src="images/6.png" alt="B√°nh ng·ªçt r∆°i" />
      <img class="bg-animated-item" src="images/7.png" alt="B√°nh ng·ªçt r∆°i" />
      <img class="bg-animated-item" src="images/8.png" alt="B√°nh ng·ªçt r∆°i" />
      <img
        class="bg-animated-item"
        src="images/icon2.png"
        alt="B√°nh ng·ªçt r∆°i"
      />
      <img
        class="bg-animated-item"
        src="images/icon1.png"
        alt="B√°nh ng·ªçt r∆°i"
      />
      <img class="bg-animated-item" src="images/3.png" alt="B√°nh ng·ªçt r∆°i" />
      <img class="bg-animated-item" src="images/4.png" alt="B√°nh ng·ªçt r∆°i" />
      <img class="bg-animated-item" src="images/6.png" alt="B√°nh ng·ªçt r∆°i" />
      <img class="bg-animated-item" src="images/5.png" alt="B√°nh ng·ªçt r∆°i" />
      <img class="bg-animated-item" src="images/8.png" alt="B√°nh ng·ªçt r∆°i" />
      <img class="bg-animated-item" src="images/7.png" alt="B√°nh ng·ªçt r∆°i" />
    </div>

    <!-- HEADER -->
    <header class="lemon-bg sticky top-0 z-30 shadow-md">
      <div class="max-w-4xl mx-auto p-4 flex justify-between items-center">
        <!-- Logo Text -->
        <h1 class="text-3xl font-black text-gray-900 lobster-font">
          Lemon <span class="lemon-text">Patisserie</span>
        </h1>

        <!-- Icon Menu (3 g·∫°ch) -->
        <button
          id="menu-toggle-btn"
          class="p-2 rounded-full hover:bg-yellow-300 transition"
          aria-label="M·ªü menu ƒëi·ªÅu h∆∞·ªõng"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6 text-gray-800"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M4 6h16M4 12h16M4 18h16"
            />
          </svg>
        </button>
      </div>
    </header>

    <!-- SIDEBAR MENU (ƒêi·ªÅu h∆∞·ªõng danh m·ª•c) -->
    <div id="sidebar-overlay"></div>
    <div id="sidebar-menu" class="p-4">
      <h3 class="text-2xl font-black mb-6 pb-2 border-b-2">Danh M·ª•c B√°nh</h3>
      <ul id="sidebar-category-list" class="space-y-3">
        <li>
          <a href="#Eclair" class="block p-2 rounded hover:bg-gray-100"
            >Eclair</a
          >
        </li>
        <li>
          <a
            href="#Birthday-Little-Cake"
            class="block p-2 rounded hover:bg-gray-100"
            >Birthday Little Cake</a
          >
        </li>
        <li>
          <a
            href="#Brownie-Cookie-cheese-Cake"
            class="block p-2 rounded hover:bg-gray-100"
            >Brownie Cookie cheese Cake</a
          >
        </li>
        <li>
          <a href="#Tiramisu" class="block p-2 rounded hover:bg-gray-100"
            >Tiramisu</a
          >
        </li>
        <li>
          <a href="#Clafoutis" class="block p-2 rounded hover:bg-gray-100"
            >Clafoutis</a
          >
        </li>
        <li>
          <a href="#B√°nh-m·ª≥-ng·ªçt" class="block p-2 rounded hover:bg-gray-100"
            >B√°nh m·ª≥ ng·ªçt</a
          >
        </li>
        <li>
          <a
            href="#B√°nh-cho-s·ª©c-kh·ªèe"
            class="block p-2 rounded hover:bg-gray-100"
            >B√°nh cho s·ª©c kh·ªèe</a
          >
        </li>
        <li>
          <a href="#Canel√©" class="block p-2 rounded hover:bg-gray-100"
            >Canel√©</a
          >
        </li>
        <li>
          <a href="#Lava-Cake" class="block p-2 rounded hover:bg-gray-100"
            >Lava Cake</a
          >
        </li>
        <li>
          <a href="#Cannoli" class="block p-2 rounded hover:bg-gray-100"
            >Cannoli</a
          >
        </li>
        <!-- Th√™m link v·ªÅ trang ch·ªß/voucher -->
        <li class="pt-4 border-t mt-4">
          <a
            href="index.html"
            class="block p-2 rounded bg-yellow-100 text-gray-800 font-bold hover:bg-yellow-200 transition"
            >‚Üê V·ªÅ trang Voucher</a
          >
        </li>
      </ul>
    </div>

    <!-- MAIN MENU CONTENT -->
    <main class="max-w-4xl mx-auto p-4 pt-8 relative z-10">
      <!-- ƒê√£ th√™m relative z-10 ƒë·ªÉ n·ªôi dung n·∫±m tr√™n animation -->
      <h2
        class="text-3xl font-extrabold text-gray-800 mb-6 text-center lobster-font"
      >
        Ch·ªçn B√°nh Ng·ªçt Y√™u Th√≠ch
      </h2>

      <!-- Menu s·∫Ω ƒë∆∞·ª£c render v√†o ƒë√¢y -->
      <div id="menu-container" class="space-y-4">
        <!-- Menu Categories Rendered Here -->
      </div>
    </main>

    <!-- STICKY FOOTER - CART SUMMARY -->
    <div id="cart-summary" class="bg-white p-3">
      <div
        class="max-w-4xl mx-auto flex justify-between items-center text-gray-800"
      >
        <!-- Gi·ªè h√†ng v√† t·ªïng ti·ªÅn -->
        <div class="flex items-center space-x-2">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6 lemon-text"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"
            />
          </svg>
          <span id="cart-item-count" class="font-bold text-lg">0</span>
          <span class="text-sm">m√≥n | T·ªïng:</span>
          <span id="cart-total" class="font-black text-xl lemon-text">0 ƒë</span>
        </div>

        <!-- N√∫t X√°c nh·∫≠n ƒë∆°n h√†ng (B∆Ø·ªöC 1: REVIEW) -->
        <button
          id="checkout-btn"
          class="lemon-bg text-gray-900 font-bold py-2 px-6 rounded-full shadow-lg hover:bg-yellow-500 transition disabled:opacity-50"
          disabled
        >
          X√°c Nh·∫≠n ƒê∆°n H√†ng
        </button>
      </div>
    </div>

    <!-- MODAL REVIEW ƒê∆†N H√ÄNG (B∆Ø·ªöC 1) -->
    <div
      id="review-modal"
      class="modal fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 hidden"
    >
      <div
        class="modal-content bg-white p-6 rounded-xl w-full max-w-lg shadow-2xl"
      >
        <h3 class="text-2xl font-black mb-4 border-b pb-2 text-gray-800">
          üõí Review ƒê∆°n H√†ng C·ªßa B·∫°n
        </h3>
        <div id="review-items" class="space-y-3 max-h-60 overflow-y-auto mb-4">
          <!-- Chi ti·∫øt ƒë∆°n h√†ng s·∫Ω hi·ªÉn th·ªã t·∫°i ƒë√¢y -->
        </div>
        <div class="text-right font-black text-xl mb-4 pt-2 border-t">
          T·ªïng c·ªông: <span id="review-total" class="lemon-text">0 ƒë</span>
        </div>
        <div class="flex justify-end space-x-3 pt-2">
          <button
            type="button"
            id="close-review-modal-btn"
            class="px-4 py-2 bg-gray-300 rounded-full hover:bg-gray-400 transition"
          >
            H·ªßy
          </button>
          <button
            type="button"
            id="confirm-review-btn"
            class="px-4 py-2 lemon-bg text-gray-900 rounded-full font-bold hover:bg-yellow-500 transition"
          >
            X√°c Nh·∫≠n & Ti·∫øp T·ª•c
          </button>
        </div>
      </div>
    </div>

    <!-- MODAL ƒê·∫∂T H√ÄNG (B∆Ø·ªöC 2: TH√îNG TIN GIAO H√ÄNG) -->
    <div
      id="checkout-modal"
      class="modal fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 hidden"
    >
      <!-- S·ª¨A L·ªñI TR√ÄN V√Ä CU·ªòN: ƒê·∫£m b·∫£o cu·ªôn ch·ªâ x·∫£y ra trong modal -->
      <div
        class="modal-content bg-white p-6 rounded-xl w-full max-w-lg shadow-2xl overflow-y-auto max-h-full"
      >
        <h3 class="text-2xl font-black mb-4 border-b pb-2 text-gray-800">
          üìù Th√¥ng Tin Giao H√†ng
        </h3>
        <!-- THAY ƒê·ªîI: S·ª¨ D·ª§NG C·∫§U TR√öC SUBMIT QUA IFRAME (GI·ªêNG M√î H√åNH KH√ÅCH S·∫†N) -->
        <form
          action="https://docs.google.com/forms/d/e/1FAIpQLSeRE1L4khNvvBefgmuGiMlMPkUAIqhjatBvZgR79TYGR3DUIQ/formResponse"
          method="POST"
          target="hidden_iframe"
          id="order-form"
          onsubmit="handleFormSubmit();"
          class="space-y-4"
        >
          <div>
            <label for="name" class="block text-sm required-label"
              >T√™n Ng∆∞·ªùi Nh·∫≠n</label
            >
            <input
              type="text"
              name="entry.1619499376"
              id="name"
              required
              class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400"
            />
          </div>
          <div>
            <label for="address" class="block text-sm required-label"
              >ƒê·ªãa Ch·ªâ Chi Ti·∫øt (V√≠ d·ª•: S·ªë nh√†, ƒë∆∞·ªùng, qu·∫≠n, H√† N·ªôi)</label
            >
            <input
              type="text"
              name="entry.1438297676"
              id="address"
              required
              placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ c·ªßa b·∫°n"
              class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400"
            />
          </div>
          <div>
            <label for="phone" class="block text-sm required-label"
              >S·ªë ƒêi·ªán Tho·∫°i</label
            >
            <input
              type="text"
              name="entry.371112576"
              id="phone"
              required
              pattern="[0-9]{9,12}"
              class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400"
            />
          </div>

          <!-- TR∆Ø·ªúNG M·ªöI: Y√äU C·∫¶U XU·∫§T H√ìA ƒê∆†N (ƒê√É S·ª¨A L·ªñI \n) -->
          <div>
            <label for="invoice_request" class="block text-sm"
              >Y√™u c·∫ßu xu·∫•t h√≥a ƒë∆°n (Kh√¥ng b·∫Øt bu·ªôc)</label
            >
            <textarea
              name="entry.130451051"
              id="invoice_request"
              rows="4"
              placeholder="Vui l√≤ng cung c·∫•p:
- T√™n doanh nghi·ªáp ho·∫∑c HKD
- MST
- Email
- ƒê·ªãa ch·ªâ"
              class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400"
            ></textarea>
          </div>

          <div>
            <label for="note" class="block text-sm">Ghi Ch√∫ (T√πy ch·ªçn)</label>
            <textarea
              name="entry.1656248315"
              id="note"
              rows="3"
              class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400"
            ></textarea>
          </div>

          <!-- Tr∆∞·ªùng ·∫©n ch·ª©a chi ti·∫øt ƒë∆°n h√†ng (Gi·ªè h√†ng) -->
          <input
            type="hidden"
            id="cart-details-input"
            name="entry.344338516"
            value=""
          />
          <!-- Tr∆∞·ªùng ·∫©n ch·ª©a t·ªïng ti·ªÅn -->
          <input
            type="hidden"
            id="total-amount-input"
            name="entry.1539207273"
            value=""
          />

          <div class="flex justify-end space-x-3 pt-2">
            <button
              type="button"
              id="close-checkout-modal-btn"
              class="px-4 py-2 bg-gray-300 rounded-full hover:bg-gray-400 transition"
            >
              Quay l·∫°i
            </button>
            <button
              type="submit"
              class="px-4 py-2 lemon-bg rounded-full font-bold hover:bg-yellow-500 transition"
            >
              HO√ÄN T·∫§T ƒê·∫∂T B√ÅNH
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- IFRAME ·∫®N D√ôNG ƒê·ªÇ G·ª¨I D·ªÆ LI·ªÜU ƒê·∫æN GOOGLE FORM (GI·ªêNG M√î H√åNH KH√ÅCH S·∫†N) -->
    <iframe
      name="hidden_iframe"
      id="hidden_iframe"
      style="display: none"
      onload="if(window.submitted) { showSubmissionSuccess(); }"
    ></iframe>

    <script>
      let submitted = false; // Bi·∫øn to√†n c·ª•c ƒë·ªÉ iframe c√≥ th·ªÉ truy c·∫≠p

      // D·ªØ li·ªáu Menu (ƒê√É C·∫¨P NH·∫¨T ƒë·ªÉ ch·ª©a ƒë∆∞·ªùng d·∫´n ·∫£nh V√Ä GI√Å RI√äNG CHO T·ª™NG B√ÅNH)
      const menuData = {
        Eclair: [
          { name: "H·ªìng tr√†", imageSrc: "images/eclair/1.png", price: 60000 },
          {
            name: "Chu·ªëi n∆∞·ªõng",
            imageSrc: "images/eclair/2.png",
            price: 65000,
          },
          { name: "Matcha", imageSrc: "images/eclair/3.png", price: 60000 },
          {
            name: "Truy·ªÅn th·ªëng",
            imageSrc: "images/eclair/4.png",
            price: 55000,
          },
          { name: "Tiramisu", imageSrc: "images/eclair/5.png", price: 70000 },
          { name: "Chanh kem", imageSrc: "images/eclair/6.png", price: 62000 },
          { name: "Socola", imageSrc: "images/eclair/7.png", price: 65000 },
          {
            name: "Caramel Ganache",
            imageSrc: "images/eclair/8.png",
            price: 68000,
          },
          { name: "S·∫ßu ri√™ng", imageSrc: "images/eclair/3.png", price: 75000 },
          {
            name: "Red velvet Cream Cheese",
            imageSrc: "images/eclair/2.png",
            price: 72000,
          },
        ],
        "Birthday Little Cake": [
          { name: "Carrot Cake", imageSrc: "images/blc/2.png", price: 95000 },
          {
            name: "Red velvet Cream Cheese",
            imageSrc: "images/blc/3.png",
            price: 105000,
          },
          {
            name: "Choco Pie Marshmallow",
            imageSrc: "images/blc/4.pngg",
            price: 90000,
          },
        ],
        "Brownie Cookie cheese Cake": [
          { name: "Coffee", imageSrc: "images/bccc/1.png", price: 58000 },
          { name: "Vanilla", imageSrc: "images/bccc/2.png", price: 55000 },
        ],
        Tiramisu: [
          {
            name: "Truy·ªÅn th·ªëng",
            imageSrc: "images/tiramisu/1.png",
            price: 85000,
          },
          { name: "Chanh", imageSrc: "images/tiramisu/1.png", price: 88000 },
        ],
        Clafoutis: [
          { name: "T√°o qu·∫ø", imageSrc: "images/clafoutis/1.png", price: 70000 },
          { name: "Nho", imageSrc: "images/clafoutis/2.png", price: 72000 },
          {
            name: "Socola d√¢u",
            imageSrc: "images/clafoutis/3.png",
            price: 75000,
          },
        ],
        "B√°nh m·ª≥ ng·ªçt": [
          { name: "B√°nh b∆° chanh", imageSrc: "images/bmn/1.png", price: 45000 },
          {
            name: "B√°nh chu·ªëi y·∫øn m·∫°ch",
            imageSrc: "iimages/bmn/2.png",
            price: 50000,
          },
          {
            name: "B√°nh Socola Walnut",
            imageSrc: "images/bmn/3.png",
            price: 55000,
          },
        ],
        "B√°nh cho s·ª©c kh·ªèe": [
          {
            name: "C√† r·ªët Cream Cheese",
            imageSrc: "images/bcsk/1.png",
            price: 80000,
          },
          {
            name: "B√≠ ƒë·ªè Cream Cheese",
            imageSrc: "images/bcsk/2.png",
            price: 78000,
          },
        ],
        Canel√©: [
          { name: "Chanh Kem", imageSrc: "images/canele/1.png", price: 40000 },
          {
            name: "Cream Cheese",
            imageSrc: "images/canele/2.png",
            price: 42000,
          },
          {
            name: "Tiramisu Oreo",
            imageSrc: "images/canele/3.png",
            price: 45000,
          },
          {
            name: "Socola Chips",
            imageSrc: "images/canele/4.pngg",
            price: 43000,
          },
          {
            name: "Socola Crumbles",
            imageSrc: "images/canele/5.png",
            price: 46000,
          },
          { name: "Matcha", imageSrc: "images/canele/6.png", price: 41000 },
        ],
        "Lava Cake": [
          { name: "Socola", imageSrc: "images/lc/1.png", price: 80000 },
          { name: "Socola D√¢u", imageSrc: "images/lc/2.png", price: 85000 },
          { name: "Matcha", imageSrc: "images/lc/3.png", price: 82000 },
        ],
        Cannoli: [
          { name: "Vanilla", imageSrc: "images/cnl/1.png", price: 75000 },
          { name: "Tiramisu", imageSrc: "images/cnl/2.png", price: 78000 },
          { name: "Chanh Kem", imageSrc: "images/cnl/3.png", price: 76000 },
          {
            name: "Chu·ªëi Rum n∆∞·ªõng",
            imageSrc: "images/cnl/4.png",
            price: 80000,
          },
          { name: "Socola", imageSrc: "images/cnl/5.png", price: 79000 },
          { name: "Matcha", imageSrc: "images/cnl/6.png", price: 77000 },
        ],
      };

      // C√ÅC ID ƒê√É ƒê∆Ø·ª¢C C·∫¨P NH·∫¨T (S·ª≠a l·∫°i ID T√™n ng∆∞·ªùi nh·∫≠n)
      const FORM_FIELD_MAPPING = {
        name: "entry.161949937", // T√™n ng∆∞·ªùi nh·∫≠n (ID ch√≠nh x√°c theo y√™u c·∫ßu cu·ªëi)
        address: "entry.1438297676", // ƒê·ªãa ch·ªâ giao h√†ng (Input Text)
        phone: "entry.371112576", // S·ªë ƒëi·ªán tho·∫°i
        invoiceRequest: "entry.130451051", // Y√™u c·∫ßu xu·∫•t h√≥a ƒë∆°n (NEW)
        note: "entry.1656248315", // Ghi ch√∫
        cartDetails: "entry.344338516", // Order (Chi ti·∫øt ƒë∆°n h√†ng)
        totalAmount: "entry.1950152427", // T·ªïng ti·ªÅn
      };

      // Gi·ªè h√†ng (State Management)
      let cart = {};
      // const DEFAULT_PRICE = 55000; // ƒê√£ lo·∫°i b·ªè gi√° m·∫∑c ƒë·ªãnh

      // DOM Elements
      const audio = document.getElementById("background-music");
      const menuContainer = document.getElementById("menu-container");
      const cartSummary = document.getElementById("cart-summary");
      const cartItemCount = document.getElementById("cart-item-count");
      const cartTotal = document.getElementById("cart-total");
      const checkoutBtn = document.getElementById("checkout-btn");

      const reviewModal = document.getElementById("review-modal");
      const reviewItemsDiv = document.getElementById("review-items");
      const reviewTotalSpan = document.getElementById("review-total");
      const closeReviewModalBtn = document.getElementById(
        "close-review-modal-btn"
      );
      const confirmReviewBtn = document.getElementById("confirm-review-btn");

      const checkoutModal = document.getElementById("checkout-modal");
      const closeCheckoutModalBtn = document.getElementById(
        "close-checkout-modal-btn"
      );
      const orderForm = document.getElementById("order-form");
      const cartDetailsInput = document.getElementById("cart-details-input");
      const totalAmountInput = document.getElementById("total-amount-input");

      /**
       * Format s·ªë th√†nh ƒë∆°n v·ªã ti·ªÅn t·ªá VNƒê.
       */
      function formatCurrency(number) {
        return number.toLocaleString("vi-VN") + " ƒë";
      }

      /**
       * Hi·ªÉn th·ªã modal th√†nh c√¥ng sau khi form g·ª≠i (Gi·∫£ ƒë·ªãnh th√†nh c√¥ng sau khi form submit)
       */
      window.showSubmissionSuccess = function () {
        // Ch·ªâ x·ª≠ l√Ω n·∫øu c·ªù submitted ƒë∆∞·ª£c ƒë·∫∑t l√† true
        if (!window.submitted) return;

        hideModal(checkoutModal);

        // T·∫°o chu·ªói th√¥ng tin chi ti·∫øt ƒë√£ g·ª≠i ƒë·ªÉ kh√°ch h√†ng ki·ªÉm tra
        const totalAmount = renderReviewItems();
        const cartItemsList = Object.keys(cart)
          .map(
            (item) =>
              `${cart[item].category} - ${item} (x${cart[item].quantity})`
          )
          .join(" | ");

        // L·∫•y gi√° tr·ªã c·ªßa tr∆∞·ªùng y√™u c·∫ßu h√≥a ƒë∆°n (NEW)
        const invoiceRequestValue =
          orderForm.invoice_request.value.trim() || "Kh√¥ng c√≥";

        const submissionDetails =
          `T√™n: ${orderForm.name.value}\n` +
          `SƒêT: ${orderForm.phone.value}\n` +
          `ƒê·ªãa ch·ªâ: ${orderForm.address.value}\n` +
          `Y√™u c·∫ßu H√≥a ƒë∆°n: ${invoiceRequestValue}\n` + // Th√™m v√†o chi ti·∫øt
          `Ghi ch√∫: ${orderForm.note.value || "Kh√¥ng c√≥"}\n\n` +
          `Chi ti·∫øt ƒë∆°n h√†ng:\n${cartItemsList.replace(/ \| /g, "\n")}`;

        const successModal = document.createElement("div");
        successModal.innerHTML = `
            <div class="fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center p-4 z-50">
                <div class="bg-white p-6 rounded-xl w-full max-w-sm text-center shadow-2xl modal-content">
                    <svg class="h-16 w-16 text-green-500 mx-auto mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <h4 class="text-xl font-black mb-2 text-green-600">ƒê·∫∂T B√ÅNH TH√ÄNH C√îNG!</h4>
                    <p class="text-sm text-gray-700 mb-4">Lemon Patisserie s·∫Ω li√™n h·ªá x√°c nh·∫≠n ƒë∆°n h√†ng c·ªßa b·∫°n trong th·ªùi gian s·ªõm nh·∫•t.</p>
                    <pre class="bg-gray-100 p-3 rounded-lg text-left text-xs overflow-x-auto">${submissionDetails.replace(
                      /\n/g,
                      "<br>"
                    )}</pre>
                    <button onclick="this.closest('.fixed').remove()" class="mt-4 px-6 py-2 lemon-bg rounded-full font-bold hover:bg-yellow-500 transition">
                        ƒê√≥ng
                    </button>
                </div>
            </div>
        `;
        document.body.appendChild(successModal);

        // Reset
        cart = {};
        orderForm.reset();
        renderMenu();
        updateCartUI();
        window.submitted = false; // Reset bi·∫øn to√†n c·ª•c
      };

      /**
       * C·∫≠p nh·∫≠t giao di·ªán gi·ªè h√†ng v√† thanh sticky footer.
       */
      function updateCartUI() {
        let totalItems = 0;
        let totalAmount = 0;

        for (const item in cart) {
          totalItems += cart[item].quantity;
          // C√îNG TH·ª®C M·ªöI: D√πng gi√° c·ªßa t·ª´ng b√°nh ƒë√£ l∆∞u trong cart
          totalAmount += cart[item].quantity * cart[item].price;
        }

        cartItemCount.textContent = totalItems;
        cartTotal.textContent = formatCurrency(totalAmount);

        // Hi·ªÉn th·ªã/·∫®n thanh footer
        if (totalItems > 0) {
          cartSummary.style.display = "block";
          checkoutBtn.disabled = false;
        } else {
          cartSummary.style.display = "none";
          checkoutBtn.disabled = true;
        }

        if (audio && totalItems > 0) {
          audio.muted = false;
          audio.play().catch((error) => {});
        }
      }

      /**
       * C·∫≠p nh·∫≠t UI c·ªßa m·ªôt card b√°nh c·ª• th·ªÉ (FIX L·ªñI MENU JUMP)
       */
      function updateCakeCardUI(itemName) {
        // S·ª≠ d·ª•ng regex ƒë·ªÉ l√†m s·∫°ch t√™n s·∫£n ph·∫©m
        const sanitizedName = itemName.replace(/[^a-zA-Z0-9]/g, "");
        const cardElement = document.getElementById(`item-${sanitizedName}`);
        if (!cardElement) return;

        const currentQuantity = cart[itemName] ? cart[itemName].quantity : 0;
        const button = cardElement.querySelector('[data-action="plus"]');
        const minusButton = cardElement.querySelector('[data-action="minus"]');

        if (button && minusButton) {
          button.textContent =
            currentQuantity > 0 ? `Th√™m (+) (${currentQuantity})` : "Ch·ªçn";
          button.classList.toggle("bg-yellow-600", currentQuantity > 0);
          button.classList.toggle("bg-yellow-400", currentQuantity === 0);

          minusButton.disabled = currentQuantity === 0;
          minusButton.classList.toggle("opacity-30", currentQuantity === 0);
        }
        updateCartUI();
      }

      /**
       * Th√™m/B·ªõt b√°nh kh·ªèi gi·ªè h√†ng.
       */
      function updateCart(itemName, price, change, categoryName) {
        if (!cart[itemName]) {
          // L∆∞u gi√° m·ªõi v√†o gi·ªè h√†ng
          cart[itemName] = {
            quantity: 0,
            price: price, // ƒê√É C·∫¨P NH·∫¨T: D√πng gi√° ƒë∆∞·ª£c truy·ªÅn v√†o
            category: categoryName,
          };
        }
        cart[itemName].quantity += change;
        if (cart[itemName].quantity <= 0) {
          delete cart[itemName];
        }
        updateCakeCardUI(itemName);
      }

      /**
       * Toggle hi·ªÉn th·ªã n·ªôi dung danh m·ª•c (Accordion)
       */
      function toggleCategory(event) {
        const header = event.currentTarget;
        const content = header.nextElementSibling;
        const isExpanded = header.getAttribute("aria-expanded") === "true";

        if (isExpanded) {
          content.classList.add("hidden");
          header.setAttribute("aria-expanded", "false");
        } else {
          content.classList.remove("hidden");
          header.setAttribute("aria-expanded", "true");
        }
      }

      /**
       * Render Menu ra HTML
       */
      function renderMenu() {
        menuContainer.innerHTML = "";
        for (const category in menuData) {
          const categoryItems = menuData[category];
          const isFirstCategory = category === Object.keys(menuData)[0];
          const contentClass = isFirstCategory ? "" : "hidden";
          const expandedAttr = isFirstCategory ? "true" : "false";
          const categoryId = category.replace(/\s/g, "-");

          const categoryHtml = `
            <section id="${categoryId}" class="bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden">
                <div class="category-header p-4 flex justify-between items-center bg-yellow-100" aria-expanded="${expandedAttr}">
                    <h3 class="text-xl font-black text-gray-800 lobster-font cake-title-style">${category}</h3> <!-- √ÅP D·ª§NG FONT CHO PH√ÇN LO·∫†I -->
                    <svg class="h-5 w-5 text-gray-700 arrow-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                    </svg>
                </div>
                
                <div class="category-content ${contentClass} p-4">
                    <div class="grid grid-cols-2 sm:grid-cols-2 gap-4 md:gap-6">
                        ${categoryItems
                          .map((item) => {
                            const itemName = item.name;
                            // S·ª≠ d·ª•ng regex ƒë·ªÉ l√†m s·∫°ch t√™n s·∫£n ph·∫©m
                            const sanitizedName = itemName.replace(
                              /[^a-zA-Z0-9]/g,
                              ""
                            );
                            const itemPrice = item.price; // L·∫•y gi√° m·ªõi
                            const currentQuantity = cart[itemName]
                              ? cart[itemName].quantity
                              : 0;
                            const buttonText =
                              currentQuantity > 0
                                ? `TH√äM (+) (${currentQuantity})`
                                : "CH·ªåN";
                            const buttonClass =
                              currentQuantity > 0
                                ? "bg-yellow-600"
                                : "bg-yellow-400";
                            const minusDisabled =
                              currentQuantity === 0 ? "disabled" : "";

                            return `
                              <div id="item-${sanitizedName}" class="cake-card bg-white rounded-xl shadow-md overflow-hidden flex flex-col items-center p-3 text-center border">
                                <img 
                                    src="${item.imageSrc}" 
                                    alt="${itemName}" 
                                    class="cake-img object-contain rounded-lg mb-2"
                                    onerror="this.onerror=null; this.src='https://placehold.co/144x144/F9FBE7/78350F?text=Cake';"
                                />
                                <h4 class="text-md font-bold line-clamp-2 min-h-[40px] lobster-font cake-title-style">${itemName}</h4> <!-- √ÅP D·ª§NG FONT CHO T√äN S·∫¢N PH·∫®M -->
                                <p class="text-sm font-extrabold text-red-500 my-1">${formatCurrency(
                                  itemPrice // Hi·ªÉn th·ªã gi√° m·ªõi
                                )}</p>
                                <div class="flex items-center space-x-2 mt-2 w-full" data-category="${category}"> 
                                    <button 
                                        data-item="${itemName}" 
                                        data-price="${itemPrice}" 
                                        data-action="minus"
                                        class="text-red-500 font-bold p-1 rounded-full border border-red-500 w-1/4 hover:bg-red-100 transition disabled:opacity-30 ${minusDisabled}"
                                        ${minusDisabled}
                                    >
                                        -
                                    </button>
                                    <button 
                                        data-item="${itemName}" 
                                        data-price="${itemPrice}" 
                                        data-action="plus"
                                        class="select-btn font-bold py-1 rounded-full w-3/4 hover:bg-yellow-500 transition ${buttonClass} lobster-font select-btn-text" <!-- √ÅP D·ª§NG FONT V√Ä M√ÄU TR·∫ÆNG ƒê·ªî B√ìNG -->
                                    >
                                        ${buttonText}
                                    </button>
                                </div>
                              </div>
                            `;
                          })
                          .join("")}
                    </div>
                </div>
            </section>
        `;
          menuContainer.insertAdjacentHTML("beforeend", categoryHtml);
        }

        document.querySelectorAll(".category-header").forEach((header) => {
          header.removeEventListener("click", toggleCategory);
          header.addEventListener("click", toggleCategory);
        });
      }

      /**
       * Render chi ti·∫øt ƒë∆°n h√†ng cho Review Modal
       */
      function renderReviewItems() {
        let html = "";
        let totalAmount = 0;

        const itemsInCart = Object.keys(cart);
        if (itemsInCart.length === 0) {
          html =
            '<p class="text-gray-500 text-center py-4">Gi·ªè h√†ng tr·ªëng. Vui l√≤ng ch·ªçn b√°nh tr∆∞·ªõc khi x√°c nh·∫≠n!</p>';
        } else {
          itemsInCart.forEach((item) => {
            const data = cart[item];
            // C√îNG TH·ª®C M·ªöI: D√πng gi√° c·ªßa t·ª´ng b√°nh ƒë√£ l∆∞u trong cart
            const subtotal = data.quantity * data.price;
            totalAmount += subtotal;

            const displayItemName = data.category
              ? `${data.category} - ${item}`
              : item;

            html += `
                      <div class="review-item border-b pb-2 pt-2">
                          <span class="text-gray-700">${displayItemName}</span>
                          <span class="review-quantity font-bold text-sm text-gray-800">x${
                            data.quantity
                          }</span>
                          <span class="review-price text-sm font-semibold">${formatCurrency(
                            data.price
                          )}</span>
                      </div>
                  `;
          });
        }

        reviewItemsDiv.innerHTML = html;
        reviewTotalSpan.textContent = formatCurrency(totalAmount);
        return totalAmount;
      }

      // ----------------- Modal Controls -----------------

      function showModal(modalElement) {
        modalElement.classList.remove("hidden");
        setTimeout(() => {
          modalElement.querySelector(".modal-content").style.transform =
            "translateY(0)";
        }, 10);
      }

      function hideModal(modalElement) {
        modalElement.querySelector(".modal-content").style.transform =
          "translateY(20px)";
        setTimeout(() => {
          modalElement.classList.add("hidden");
        }, 300);
      }

      /**
       * X·ª≠ l√Ω submit form (G√°n d·ªØ li·ªáu v√†o tr∆∞·ªùng ·∫©n v√† k√≠ch ho·∫°t form submit)
       */
      window.handleFormSubmit = function () {
        const totalAmount = renderReviewItems();

        // T·∫°o chu·ªói chi ti·∫øt ƒë∆°n h√†ng
        const cartItemsList = Object.keys(cart)
          .map(
            (item) =>
              `${cart[item].category} - ${item} (x${cart[item].quantity})`
          )
          .join(" | ");

        // G√°n gi√° tr·ªã v√†o c√°c tr∆∞·ªùng ·∫©n
        cartDetailsInput.value = cartItemsList;
        totalAmountInput.value = formatCurrency(totalAmount);

        // ƒê√°nh d·∫•u ƒë√£ submit v√† cho ph√©p form g·ª≠i d·ªØ li·ªáu
        window.submitted = true;

        // Form s·∫Ω t·ª± submit sau khi h√†m n√†y k·∫øt th√∫c
      };

      // ----------------- Sidebar Controls (Kh√¥ng ƒë·ªïi) -----------------
      const sidebarMenu = document.getElementById("sidebar-menu");
      const sidebarOverlay = document.getElementById("sidebar-overlay");
      const menuToggleBtn = document.getElementById("menu-toggle-btn");

      function toggleSidebar() {
        sidebarMenu.classList.toggle("active");
        sidebarOverlay.classList.toggle("active");
      }

      sidebarOverlay.addEventListener("click", toggleSidebar);
      menuToggleBtn.addEventListener("click", toggleSidebar);

      document
        .getElementById("sidebar-category-list")
        .addEventListener("click", (e) => {
          if (
            e.target.tagName === "A" &&
            e.target.getAttribute("href").startsWith("#")
          ) {
            e.preventDefault();
            const targetId = e.target.getAttribute("href").substring(1);
            const targetElement = document.getElementById(targetId);
            if (targetElement) {
              targetElement.scrollIntoView({ behavior: "smooth" });
              const header = targetElement.querySelector(".category-header");
              const content = targetElement.querySelector(".category-content");
              if (header.getAttribute("aria-expanded") === "false") {
                content.classList.remove("hidden");
                header.setAttribute("aria-expanded", "true");
              }
            }
            toggleSidebar();
          }
        });

      // -------------------------------------------------------------------
      // INITIALIZATION & EVENT LISTENERS
      // -------------------------------------------------------------------

      document.addEventListener("DOMContentLoaded", () => {
        window.toggleCategory = toggleCategory;
        window.showSubmissionSuccess = showSubmissionSuccess; // C·∫ßn ph·∫£i l√† h√†m to√†n c·ª•c

        renderMenu();
        updateCartUI();

        menuContainer.addEventListener("click", (event) => {
          const btn = event.target.closest("button");
          if (btn && btn.dataset.item && btn.dataset.action) {
            handleMenuClick(event);
          }
        });

        function handleMenuClick(event) {
          const btn = event.target.closest("button");
          if (!btn || (!btn.dataset.item && !btn.dataset.action)) return;

          const itemName = btn.dataset.item;
          // ƒê√É C·∫¨P NH·∫¨T: L·∫•y gi√° t·ª´ data-price c·ªßa button
          const itemPrice = parseInt(btn.dataset.price);
          const action = btn.dataset.action;

          const controlsDiv = btn.closest("div[data-category]");
          const categoryName = controlsDiv
            ? controlsDiv.dataset.category
            : "Kh√°c";

          if (action === "plus") {
            // Truy·ªÅn gi√° m·ªõi v√†o updateCart
            updateCart(itemName, itemPrice, 1, categoryName);
          } else if (action === "minus" && cart[itemName]) {
            // Truy·ªÅn gi√° ƒë√£ l∆∞u trong gi·ªè h√†ng (kh√¥ng c·∫ßn l·∫•y l·∫°i t·ª´ UI)
            updateCart(itemName, cart[itemName].price, -1, categoryName);
          }
        }

        // Checkout Process Listeners (2 b∆∞·ªõc)
        document
          .getElementById("checkout-btn")
          .addEventListener("click", () => {
            if (Object.keys(cart).length > 0) {
              renderReviewItems();
              showModal(reviewModal); // B∆Ø·ªöC 1
            }
          });

        closeReviewModalBtn.addEventListener("click", () =>
          hideModal(reviewModal)
        );
        confirmReviewBtn.addEventListener("click", () => {
          // Chuy·ªÉn t·ª´ Review Modal sang Checkout Modal
          hideModal(reviewModal);
          showModal(checkoutModal); // B∆Ø·ªöC 2
        });

        closeCheckoutModalBtn.addEventListener(
          "click",
          () => showModal(reviewModal) // Quay l·∫°i B∆Ø·ªöC 1
        );

        // ƒê√≥ng modals khi click ra ngo√†i
        reviewModal.addEventListener("click", (e) => {
          if (e.target === reviewModal) hideModal(reviewModal);
        });
        checkoutModal.addEventListener("click", (e) => {
          if (e.target === checkoutModal) hideModal(checkoutModal);
        });
      });
    </script>
  </body>
</html>
